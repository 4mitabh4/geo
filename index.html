<html>
  <head>
    <title>A Leaflet map!</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.6.0/leaflet.css"
      integrity="sha256-SHMGCYmST46SoyGgo4YR/9AlK1vf3ff84Aq9yK4hdqM="
      crossorigin="anonymous"
    />

    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.6.0/leaflet.js"
      integrity="sha256-fNoRrwkP2GuYPbNSJmMJOCyfRB2DhPQe0rGTgzRsyso="
      crossorigin="anonymous"
    ></script>
    <!-- jquery  -->
    <script
      src="https://code.jquery.com/jquery-3.4.1.min.js"
      integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/1.4.1/leaflet.markercluster.js"
      integrity="sha256-WL6HHfYfbFEkZOFdsJQeY7lJG/E5airjvqbznghUzRw="
      crossorigin="anonymous"
    ></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/1.4.1/MarkerCluster.css"
      integrity="sha256-+bdWuWOXMFkX0v9Cvr3OWClPiYefDQz9GGZP/7xZxdc="
      crossorigin="anonymous"
    />
    <style>
      #map {
        height: 100%;
      }
      .legend {
    line-height: 18px;
    color: #555;
}
.legend i {
    width: 18px;
    height: 18px;
    float: left;
    margin-right: 8px;
    opacity: 0.7;
}
    </style>
  </head>
  <body>
    <div id="map"></div>

    <script>
      // initialize the map
      var map = L.map("map").setView([23.838697, 78.1141228], 4);

      // load a tile layer
      L.tileLayer("http://tiles.mapc.org/basemap/{z}/{x}/{y}.png", {
        attribution:
          'Tiles by <a href="http://mapc.org">MAPC</a>, Data by <a href="http://mass.gov/mgis">MassGIS</a>',
        maxZoom: 6,
        minZoom: 4
      }).addTo(map);

      function getColor(d) {
        return d > 300000
          ? "#800026"
          : d > 200000
          ? "#BD0026"
          : d > 100000
          ? "#E31A1C"
          : d > 70000
          ? "#FC4E2A"
          : d > 40000
          ? "#FD8D3C"
          : d > 25000
          ? "#FEB24C"
          : d > 1000
          ? "#FED976"
          : "#FFEDA0";
      }
      function style(feature) {
        return {
          fillColor: getColor(feature.properties.area),
          weight: 2,
          opacity: 1,
          color: "white",
          dashArray: "3",
          fillOpacity: 0.7
        };
      }

      // layer
      $.getJSON("india_states.geojson", function(data) {
        // add GeoJSON layer to the map once the file is loaded

        var datalayer = L.geoJson(data, {
          onEachFeature: function(feature, featureLayer) {
            featureLayer.bindPopup(
              feature.properties.id + "<br/>" + feature.properties.name
            );
          },
          style: style
        }).addTo(map);
        map.fitBounds(datalayer.getBounds());
      });

      // legend
      var legend = L.control({ position: "bottomright" });

      legend.onAdd = function(map) {
        var div = L.DomUtil.create("div", "info legend"),
          // grades = [0, 10, 20, 50, 100, 200, 500, 1000],
          grades = [0, 1000, 25000, 40000, 70000, 100000, 200000, 300000],
          labels = [];

        // loop through our density intervals and generate a label with a colored square for each interval
        for (var i = 0; i < grades.length; i++) {
          div.innerHTML +=
            '<i style="background:' +
            getColor(grades[i] + 1) +
            '"></i> ' +
            grades[i] +
            (grades[i + 1] ? "&ndash;" + grades[i + 1] + "<br>" : "+");
        }

        return div;
      };

      legend.addTo(map);
    </script>
  </body>
</html>
